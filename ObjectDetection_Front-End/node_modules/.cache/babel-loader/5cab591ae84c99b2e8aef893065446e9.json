{"ast":null,"code":"import Loader from '@/components/Loader.vue';\nlet url = `ws://127.0.0.1:8081/ws/socket-server/`;\nconst chatSocket = new WebSocket(url);\n\nchatSocket.onmessage = function (e) {\n  let data = JSON.parse(e.data);\n  console.log('Data:', data);\n\n  if (data.type === 'chat') {\n    let messages = document.getElementById('messages');\n    messages.insertAdjacentHTML('beforeend', `<div>\n                                    <p>${data.message}</p>\n                                </div>`);\n  }\n};\n\nlet form = document.getElementById('form');\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  let message = e.target.message.value;\n  chatSocket.send(JSON.stringify({\n    'message': message\n  }));\n  form.reset();\n});\nexport default {\n  name: 'ProjectArea',\n  props: {\n    msg: String,\n    data: Array\n  },\n\n  data() {\n    return {\n      connection: null\n    };\n  },\n\n  components: {\n    Loader\n  },\n  methods: {\n    settings() {\n      document.querySelector('.settings-show').style.display = 'flex';\n    },\n\n    hideSettings(event) {\n      if (event.target.className === 'settings-show') {\n        document.querySelector('.settings-show').style.display = 'none';\n      }\n    },\n\n    goToHome() {\n      this.$router.push({\n        name: 'Home'\n      });\n    },\n\n    check() {\n      var images = document.querySelectorAll('.images');\n      console.log(images[0].offsetWidth); // console.log(images[0].attributes[1].isConnected)\n    }\n\n  },\n\n  mounted() {\n    // console.log(document.querySelector('.project-area').offsetHeight)\n    // console.log(window.innerHeight)\n    if (Number(document.querySelector('.project-area').offsetHeight) < Number(window.innerHeight)) {\n      document.querySelector('.project-area').style.height = window.innerHeight + 'px';\n    } // fetch('http://127.0.0.1:8000/get_projects', {\n    //   method: 'GET'\n    // })\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     this.data = data\n    //     document.querySelector('.data').innerHTML = this.data\n    //   })\n    // setInterval(function () {\n    //   fetch('http://127.0.0.1:8000/get_projects', {\n    //     method: 'GET'\n    //   })\n    //     .then(response => response.json())\n    //     .then(data => {\n    //       this.data = data\n    //       document.querySelector('.data').innerHTML = this.data\n    //     })\n    // }, 15000)\n    // var images = document.querySelectorAll('.images')\n    // console.log(images[0].offsetWidth)\n    // if (images[0].attributes[1].isConnected === true) {\n    //   document.querySelector('.loader-scene').style.display = 'none'\n    // }\n    // document.querySelector('.exit').addEventListener('click', this.goToHome())\n    // console.log(document.querySelector('img.images').style.innerHeight)\n\n  }\n\n};","map":{"version":3,"mappings":"AA6GA,OAAOA,MAAP,MAAmB,yBAAnB;AAEA,IAAIC,GAAE,GAAK,uCAAX;AAEI,MAAMC,UAAS,GAAI,IAAIC,SAAJ,CAAcF,GAAd,CAAnB;;AAEAC,UAAU,CAACE,SAAX,GAAuB,UAASC,CAAT,EAAW;AAC9B,MAAIC,IAAG,GAAIC,IAAI,CAACC,KAAL,CAAWH,CAAC,CAACC,IAAb,CAAX;AACAG,SAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,IAArB;;AAEA,MAAGA,IAAI,CAACK,IAAL,KAAc,MAAjB,EAAwB;AACpB,QAAIC,QAAO,GAAIC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAf;AAEAF,YAAQ,CAACG,kBAAT,CAA4B,WAA5B,EAA0C;yCACbT,IAAI,CAACU,OAAQ;uCAD1C;AAGJ;AACJ,CAXA;;AAaA,IAAIC,IAAG,GAAIJ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAX;AACAG,IAAI,CAACC,gBAAL,CAAsB,QAAtB,EAAiCb,CAAD,IAAM;AAClCA,GAAC,CAACc,cAAF;AACA,MAAIH,OAAM,GAAIX,CAAC,CAACe,MAAF,CAASJ,OAAT,CAAiBK,KAA/B;AACAnB,YAAU,CAACoB,IAAX,CAAgBf,IAAI,CAACgB,SAAL,CAAe;AAC3B,eAAUP;AADiB,GAAf,CAAhB;AAGAC,MAAI,CAACO,KAAL;AACH,CAPD;AASJ,eAAe;AACbC,MAAI,EAAE,aADO;AAEbC,OAAK,EAAE;AACLC,OAAG,EAAEC,MADA;AAELtB,QAAI,EAAEuB;AAFD,GAFM;;AAMbvB,MAAG,GAAK;AACN,WAAO;AACLwB,gBAAU,EAAE;AADP,KAAP;AAGD,GAVY;;AAWbC,YAAU,EAAE;AACV/B;AADU,GAXC;AAcbgC,SAAO,EAAE;AACPC,YAAO,GAAK;AACVpB,cAAQ,CAACqB,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,MAAzD;AACD,KAHM;;AAIPC,gBAAW,CAAGC,KAAH,EAAU;AACnB,UAAIA,KAAK,CAAClB,MAAN,CAAamB,SAAb,KAA2B,eAA/B,EAAgD;AAC9C1B,gBAAQ,CAACqB,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,MAAzD;AACF;AACD,KARM;;AASPI,YAAO,GAAK;AACV,WAAKC,OAAL,CAAaC,IAAb,CAAkB;AAChBjB,YAAI,EAAE;AADU,OAAlB;AAGD,KAbM;;AAcPkB,SAAI,GAAK;AACP,UAAIC,MAAK,GAAI/B,QAAQ,CAACgC,gBAAT,CAA0B,SAA1B,CAAb;AACApC,aAAO,CAACC,GAAR,CAAYkC,MAAM,CAAC,CAAD,CAAN,CAAUE,WAAtB,EAFO,CAGP;AACF;;AAlBO,GAdI;;AAkCbC,SAAM,GAAK;AACT;AACA;AACA,QAAIC,MAAM,CAACnC,QAAQ,CAACqB,aAAT,CAAuB,eAAvB,EAAwCe,YAAzC,CAAN,GAA+DD,MAAM,CAACE,MAAM,CAACC,WAAR,CAAzE,EAA+F;AAC7FtC,cAAQ,CAACqB,aAAT,CAAuB,eAAvB,EAAwCC,KAAxC,CAA8CiB,MAA9C,GAAwDF,MAAM,CAACC,WAAR,GAAuB,IAA9E;AACF,KALS,CAMT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACF;;AAjEa,CAAf","names":["Loader","url","chatSocket","WebSocket","onmessage","e","data","JSON","parse","console","log","type","messages","document","getElementById","insertAdjacentHTML","message","form","addEventListener","preventDefault","target","value","send","stringify","reset","name","props","msg","String","Array","connection","components","methods","settings","querySelector","style","display","hideSettings","event","className","goToHome","$router","push","check","images","querySelectorAll","offsetWidth","mounted","Number","offsetHeight","window","innerHeight","height"],"sourceRoot":"","sources":["C:\\Users\\Harun\\Desktop\\ObjectDetection_app-master\\objectdetectionfrontend\\src\\components\\Project\\ProjectArea.vue"],"sourcesContent":["<template>\n  <div class=\"project-area\">\n    <Loader/>\n    <div class=\"project-view\">\n      <div class=\"top\">\n        <div @click=\"check\" class=\"shower\" style=\"position: relative;\">\n          MIFI - Object Detection / SafetyZone\n          <div @click=\"goToHome\" class=\"exit\" style=\"position:absolute;right:0;top: -8px;text-align: right;padding:8px 12px 8px 5px;cursor: pointer;\">\n            <span style=\"font-size: 11px; color: red;margin-right: 3px;\">Çıkış</span><svg xmlns=\"http://www.w3.org/2000/svg\" style=\"color: red\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-log-out\"><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path><polyline points=\"16 17 21 12 16 7\"></polyline><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line></svg>\n          </div>\n        </div>\n        <div>\n          <div class=\"butons\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-activity\"><polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline></svg><span style=\"margin-left: 5px;\">Connect</span>\n          </div>\n          <div class=\"butons\">\n              <img src=\"@/assets/eraser.png\" width=\"24\" height=\"24\"/><span style=\"margin-left: 5px;\">Clear</span>\n          </div>\n          <div class=\"checkbox\">\n            <input type=\"checkbox\" id=\"bypass\" name=\"bypass\" value=\"ByPass\">\n            <label for=\"bypass\" style=\"font-size: 14px;cursor: pointer;\">ByPass</label><br>\n          </div>\n          <div @click=\"settings\" class=\"butons settings\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-settings\"><circle cx=\"12\" cy=\"12\" r=\"3\"></circle><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path></svg><span style=\"margin-left: 5px;\">Settings</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"body\">\n        <div><img class=\"images\" src=\"http://127.0.0.1:8000/video_feed\" width=\"100%\" height=\"630\"></div>\n        <div><img class=\"images\" src=\"http://127.0.0.1:8000/object_detection\" width=\"100%\" height=\"630\"></div>\n      </div>\n      <!-- {{data}} -->\n      <div class=\"footer\">\n        <div>\n          <div class=\"info\">\n            <table style=\"width: 100%;\">\n              <tr>\n                <th>Header</th>\n                <th>Message</th>\n                <th>Date</th>\n              </tr>\n              <tr v-for=\"(item,index) in data\" :key=\"index\">\n                <td><span style=\"color: green;\">&#10003;</span> Başarılı</td>\n                <td>PLC'e operasyon tamamlandı biti setlendi DbAdres: DB5.DBX0.1</td>\n                <td>01.02.2022 13:28:13</td>\n              </tr>\n              <tr></tr>\n              <tr>\n                <div id=\"messages\"></div>\n              </tr>\n              <!-- <tr>\n                <td><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg> TipNo</td>\n                <td>PLC'den tip numarası okundu. DbAdres : DB5.DBX0.0 Tip No: 3</td>\n                <td>01.02.2022 13:28:11</td>\n              </tr>\n              <tr>\n                <td><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"9\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-arrow-right\"><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line><polyline points=\"12 5 19 12 12 19\"></polyline></svg> Ürün</td>\n                <td>Operasyon başlatıldı bilgisi okundu. DbAdres : DB5.DBX0.0</td>\n                <td>01.02.2022 13:28:09</td>\n              </tr> -->\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div @click=\"hideSettings($event)\" class=\"settings-show\">\n      <div class=\"settings\">\n        <div>\n          <div class=\"header\">\n            <div><svg xmlns=\"http://www.w3.org/2000/svg\" style=\"margin-bottom: 2px;\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-settings\"><circle cx=\"12\" cy=\"12\" r=\"3\"></circle><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path></svg></div>\n            <div><span style=\"margin-left: 3px;\">Settings</span></div>\n          </div>\n          <div class=\"body\">\n            <div id=\"inputs\">\n              <div id=\"inputs-1\">\n                <div class=\"inputs\"><div>Kamera IP Adresi:</div> <div><input v-model=\"cameraIp\" disabled/></div></div>\n                <div class=\"inputs\"><div>PLC IP Adresi:</div> <div><input v-model=\"plcIp\" disabled/></div></div>\n                <div class=\"inputs\"><div>Tahminleme Min Oran %:</div> <div><input v-model=\"minOran\" type=\"number\" step=\"1\" disabled/></div></div>\n                <div class=\"inputs\"><div>Maksimum Deneme Sayısı:</div> <div><input v-model=\"denemeSayisi\" type=\"number\" step=\"1\" disabled/></div></div>\n                <div class=\"inputs\"><div>İstasyon Db Adres:</div> <div><input v-model=\"dbAdres\" disabled/></div></div>\n                <div class=\"inputs\"><div>Operasyon Başladı mı DB:</div><div> <input v-model=\"basladimi\" disabled/></div></div>\n                <div class=\"inputs\"><div>Operasyon Tamamlandı mı DB:</div> <div><input v-model=\"tamamlandimi\" disabled/></div></div>\n              </div>\n              <div id=\"inputs-2\">\n                <div class=\"crop\">\n                  <span class=\"head\">Crop</span>\n                  <div class=\"inputs\"><div>Başlangıç X:</div> <div><input v-model=\"x\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>Başlangıç Y:</div> <div><input v-model=\"y\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>X Mesafesi:</div> <div><input v-model=\"xRange\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>Y Mesafesi:</div> <div><input v-model=\"yRange\" type=\"number\" step=\"1\" disabled/></div></div>\n                </div>\n              </div>\n            </div>\n            <div class=\"footer\">\n              <div>\n                <div id=\"inputs-2\" style=\"width: 100%\">\n                  <div class=\"inputs\"><div>Resim Klasörü: </div> <div style=\"width: 85%\"><input v-model=\"x\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>Log Dosyası:</div> <div style=\"width: 85%\"><input v-model=\"y\" type=\"number\" step=\"1\" disabled/></div></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loader from '@/components/Loader.vue'\n\nlet url = `ws://127.0.0.1:8081/ws/socket-server/`\n\n    const chatSocket = new WebSocket(url)\n\n    chatSocket.onmessage = function(e){\n        let data = JSON.parse(e.data)\n        console.log('Data:', data)\n\n        if(data.type === 'chat'){\n            let messages = document.getElementById('messages')\n\n            messages.insertAdjacentHTML('beforeend', `<div>\n                                    <p>${data.message}</p>\n                                </div>`)\n        }\n    }\n\n    let form = document.getElementById('form')\n    form.addEventListener('submit', (e)=> {\n        e.preventDefault()\n        let message = e.target.message.value \n        chatSocket.send(JSON.stringify({\n            'message':message\n        }))\n        form.reset()\n    })\n\nexport default {\n  name: 'ProjectArea',\n  props: {\n    msg: String,\n    data: Array\n  },\n  data () {\n    return {\n      connection: null\n    }\n  },\n  components: {\n    Loader\n  },\n  methods: {\n    settings () {\n      document.querySelector('.settings-show').style.display = 'flex'\n    },\n    hideSettings (event) {\n      if (event.target.className === 'settings-show') {\n        document.querySelector('.settings-show').style.display = 'none'\n      }\n    },\n    goToHome () {\n      this.$router.push({\n        name: 'Home'\n      })\n    },\n    check () {\n      var images = document.querySelectorAll('.images')\n      console.log(images[0].offsetWidth)\n      // console.log(images[0].attributes[1].isConnected)\n    }\n  },\n  mounted () {\n    // console.log(document.querySelector('.project-area').offsetHeight)\n    // console.log(window.innerHeight)\n    if (Number(document.querySelector('.project-area').offsetHeight) < Number(window.innerHeight)) {\n      document.querySelector('.project-area').style.height = (window.innerHeight) + 'px'\n    }\n    // fetch('http://127.0.0.1:8000/get_projects', {\n    //   method: 'GET'\n    // })\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     this.data = data\n    //     document.querySelector('.data').innerHTML = this.data\n    //   })\n    // setInterval(function () {\n    //   fetch('http://127.0.0.1:8000/get_projects', {\n    //     method: 'GET'\n    //   })\n    //     .then(response => response.json())\n    //     .then(data => {\n    //       this.data = data\n    //       document.querySelector('.data').innerHTML = this.data\n    //     })\n    // }, 15000)\n    // var images = document.querySelectorAll('.images')\n    // console.log(images[0].offsetWidth)\n    // if (images[0].attributes[1].isConnected === true) {\n    //   document.querySelector('.loader-scene').style.display = 'none'\n    // }\n    // document.querySelector('.exit').addEventListener('click', this.goToHome())\n    // console.log(document.querySelector('img.images').style.innerHeight)\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}