{"ast":null,"code":"import Loader from '@/components/Loader.vue';\nexport default {\n  name: 'ProjectArea',\n  props: {\n    msg: String,\n    data: Array\n  },\n\n  data() {\n    return {\n      connection: null,\n      parser: null\n    };\n  },\n\n  components: {\n    Loader\n  },\n  methods: {\n    settings() {\n      document.querySelector('.settings-show').style.display = 'flex';\n    },\n\n    hideSettings(event) {\n      if (event.target.className === 'settings-show') {\n        document.querySelector('.settings-show').style.display = 'none';\n      }\n    },\n\n    goToHome() {\n      this.$router.push({\n        name: 'Home'\n      });\n    },\n\n    check() {\n      var images = document.querySelectorAll('.images');\n      console.log(images[0].offsetWidth); // console.log(images[0].attributes[1].isConnected)\n    }\n\n  },\n\n  created() {\n    const url = 'ws://127.0.0.1:8081/ws/socket-server/';\n    const chatSocket = new WebSocket(url);\n\n    chatSocket.onmessage = function (e) {\n      const data = JSON.parse(e.data);\n      this.parser = JSON.parse(data.message.replaceAll('\\'', '\"')); // console.log('Data:', parser)\n\n      if (data.type === 'chat') {\n        const messages = document.getElementById('messages');\n        messages.innerText = this.parser; // messages.insertAdjacentHTML('beforeend', `<div>\n        //                         <p>${data.message}</p>\n        //                     </div>`)\n      }\n    }; // let form = document.getElementById('form')\n    // form.addEventListener('submit', (e)=> {\n    //     e.preventDefault()\n    //     let message = e.target.message.value\n    //     chatSocket.send(JSON.stringify({\n    //         'message':message\n    //     }))\n    //     form.reset()\n    // })\n\n  },\n\n  mounted() {\n    // console.log(document.querySelector('.project-area').offsetHeight)\n    // console.log(window.innerHeight)\n    if (Number(document.querySelector('.project-area').offsetHeight) < Number(window.innerHeight)) {\n      document.querySelector('.project-area').style.height = window.innerHeight + 'px';\n    } // fetch('http://127.0.0.1:8000/get_projects', {\n    //   method: 'GET'\n    // })\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     this.data = data\n    //     document.querySelector('.data').innerHTML = this.data\n    //   })\n    // setInterval(function () {\n    //   fetch('http://127.0.0.1:8000/get_projects', {\n    //     method: 'GET'\n    //   })\n    //     .then(response => response.json())\n    //     .then(data => {\n    //       this.data = data\n    //       document.querySelector('.data').innerHTML = this.data\n    //     })\n    // }, 15000)\n    // var images = document.querySelectorAll('.images')\n    // console.log(images[0].offsetWidth)\n    // if (images[0].attributes[1].isConnected === true) {\n    //   document.querySelector('.loader-scene').style.display = 'none'\n    // }\n    // document.querySelector('.exit').addEventListener('click', this.goToHome())\n    // console.log(document.querySelector('img.images').style.innerHeight)\n\n  }\n\n};","map":{"version":3,"mappings":"AAoHA,OAAOA,MAAP,MAAmB,yBAAnB;AAEA,eAAe;AACbC,MAAI,EAAE,aADO;AAEbC,OAAK,EAAE;AACLC,OAAG,EAAEC,MADA;AAELC,QAAI,EAAEC;AAFD,GAFM;;AAMbD,MAAG,GAAK;AACN,WAAO;AACLE,gBAAU,EAAE,IADP;AAELC,YAAM,EAAE;AAFH,KAAP;AAID,GAXY;;AAYbC,YAAU,EAAE;AACVT;AADU,GAZC;AAebU,SAAO,EAAE;AACPC,YAAO,GAAK;AACVC,cAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,MAAzD;AACD,KAHM;;AAIPC,gBAAW,CAAGC,KAAH,EAAU;AACnB,UAAIA,KAAK,CAACC,MAAN,CAAaC,SAAb,KAA2B,eAA/B,EAAgD;AAC9CP,gBAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,MAAzD;AACF;AACD,KARM;;AASPK,YAAO,GAAK;AACV,WAAKC,OAAL,CAAaC,IAAb,CAAkB;AAChBrB,YAAI,EAAE;AADU,OAAlB;AAGD,KAbM;;AAcPsB,SAAI,GAAK;AACP,UAAIC,MAAK,GAAIZ,QAAQ,CAACa,gBAAT,CAA0B,SAA1B,CAAb;AACAC,aAAO,CAACC,GAAR,CAAYH,MAAM,CAAC,CAAD,CAAN,CAAUI,WAAtB,EAFO,CAGP;AACF;;AAlBO,GAfI;;AAmCbC,SAAM,GAAK;AACT,UAAMC,GAAE,GAAI,uCAAZ;AAEA,UAAMC,UAAS,GAAI,IAAIC,SAAJ,CAAcF,GAAd,CAAnB;;AAEAC,cAAU,CAACE,SAAX,GAAuB,UAAUC,CAAV,EAAa;AAClC,YAAM7B,IAAG,GAAI8B,IAAI,CAACC,KAAL,CAAWF,CAAC,CAAC7B,IAAb,CAAb;AACA,WAAKG,MAAL,GAAc2B,IAAI,CAACC,KAAL,CAAW/B,IAAI,CAACgC,OAAL,CAAaC,UAAb,CAAwB,IAAxB,EAA8B,GAA9B,CAAX,CAAd,CAFkC,CAGlC;;AAEA,UAAIjC,IAAI,CAACkC,IAAL,KAAc,MAAlB,EAA0B;AACxB,cAAMC,QAAO,GAAI5B,QAAQ,CAAC6B,cAAT,CAAwB,UAAxB,CAAjB;AACAD,gBAAQ,CAACE,SAAT,GAAqB,KAAKlC,MAA1B,CAFwB,CAGxB;AACA;AACA;AACF;AACF,KAZA,CALS,CAkBT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACD,GA9DY;;AA+DbmC,SAAM,GAAK;AACT;AACA;AACA,QAAIC,MAAM,CAAChC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCgC,YAAzC,CAAN,GAA+DD,MAAM,CAACE,MAAM,CAACC,WAAR,CAAzE,EAA+F;AAC7FnC,cAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCC,KAAxC,CAA8CkC,MAA9C,GAAwDF,MAAM,CAACC,WAAR,GAAuB,IAA9E;AACF,KALS,CAMT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACF;;AA9Fa,CAAf","names":["Loader","name","props","msg","String","data","Array","connection","parser","components","methods","settings","document","querySelector","style","display","hideSettings","event","target","className","goToHome","$router","push","check","images","querySelectorAll","console","log","offsetWidth","created","url","chatSocket","WebSocket","onmessage","e","JSON","parse","message","replaceAll","type","messages","getElementById","innerText","mounted","Number","offsetHeight","window","innerHeight","height"],"sourceRoot":"","sources":["C:\\Users\\Harun\\Desktop\\ObjectDetection_app-master\\objectdetectionfrontend\\src\\components\\Project\\ProjectArea.vue"],"sourcesContent":["<template>\n  <div class=\"project-area\">\n    <Loader/>\n    <div class=\"project-view\">\n      <div class=\"top\">\n        <div @click=\"check\" class=\"shower\" style=\"position: relative;\">\n          MIFI - Object Detection / SafetyZone\n          <div @click=\"goToHome\" class=\"exit\" style=\"position:absolute;right:0;top: -8px;text-align: right;padding:8px 12px 8px 5px;cursor: pointer;\">\n            <span style=\"font-size: 11px; color: red;margin-right: 3px;\">Çıkış</span><svg xmlns=\"http://www.w3.org/2000/svg\" style=\"color: red\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-log-out\"><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path><polyline points=\"16 17 21 12 16 7\"></polyline><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line></svg>\n          </div>\n        </div>\n        <div>\n          <div class=\"butons\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-activity\"><polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline></svg><span style=\"margin-left: 5px;\">Connect</span>\n          </div>\n          <div class=\"butons\">\n              <img src=\"@/assets/eraser.png\" width=\"24\" height=\"24\"/><span style=\"margin-left: 5px;\">Clear</span>\n          </div>\n          <div class=\"checkbox\">\n            <input type=\"checkbox\" id=\"bypass\" name=\"bypass\" value=\"ByPass\">\n            <label for=\"bypass\" style=\"font-size: 14px;cursor: pointer;\">ByPass</label><br>\n          </div>\n          <div @click=\"settings\" class=\"butons settings\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-settings\"><circle cx=\"12\" cy=\"12\" r=\"3\"></circle><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path></svg><span style=\"margin-left: 5px;\">Settings</span>\n          </div>\n        </div>\n        <div class=\"ok-nok\">\n          <template v-for=\"(item,index) in parser\" :key=\"index\">\n            <div class=\"butons\">\n                <img src=\"@/assets/eraser.png\" width=\"24\" height=\"24\"/><span style=\"margin-left: 5px;\">Clear</span>\n            </div>\n          </template>\n          <div class=\"butons\">\n              <span style=\"width: 10px;height: 10px;margin-left: 4px;margin-bottom: 1.2px;margin-right: 0;border-radius: 100px;background-color: green;\"></span><span style=\"margin-left: 3px;\">Clear</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"body\">\n        <div><img class=\"images\" src=\"http://127.0.0.1:8000/video_feed\" width=\"100%\" height=\"630\"></div>\n        <div><img class=\"images\" src=\"http://127.0.0.1:8000/object_detection\" width=\"100%\" height=\"630\"></div>\n      </div>\n      <!-- {{data}} -->\n      <div class=\"footer\">\n        <div>\n          <div class=\"info\">\n            <table style=\"width: 100%;\">\n              <tr>\n                <th>Header</th>\n                <th>Message</th>\n                <th>Date</th>\n              </tr>\n              <tr v-for=\"(item,index) in data\" :key=\"index\">\n                <td><span style=\"color: green;\">&#10003;</span> Başarılı</td>\n                <td>PLC'e operasyon tamamlandı biti setlendi DbAdres: DB5.DBX0.1</td>\n                <td>01.02.2022 13:28:13</td>\n              </tr>\n              <tr >\n                <td><span style=\"color: green;\">&#10003;</span> Başarılı</td>\n                <td>PLC'e operasyon tamamlandı biti setlendi DbAdres: DB5.DBX0.1</td>\n                <td>01.02.2022 13:28:13</td>\n              </tr>\n              <tr></tr>\n              <tr>\n                <td><span style=\"color: green;\">&#10003;</span> Başarılı</td>\n                <td id=\"messages\"></td>\n                <td>01.02.2022 13:28:13</td>\n              </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div @click=\"hideSettings($event)\" class=\"settings-show\">\n      <div class=\"settings\">\n        <div>\n          <div class=\"header\">\n            <div><svg xmlns=\"http://www.w3.org/2000/svg\" style=\"margin-bottom: 2px;\" width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-settings\"><circle cx=\"12\" cy=\"12\" r=\"3\"></circle><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path></svg></div>\n            <div><span style=\"margin-left: 3px;\">Settings</span></div>\n          </div>\n          <div class=\"body\">\n            <div id=\"inputs\">\n              <div id=\"inputs-1\">\n                <div class=\"inputs\"><div>Kamera IP Adresi:</div> <div><input v-model=\"cameraIp\" disabled/></div></div>\n                <div class=\"inputs\"><div>PLC IP Adresi:</div> <div><input v-model=\"plcIp\" disabled/></div></div>\n                <div class=\"inputs\"><div>Tahminleme Min Oran %:</div> <div><input v-model=\"minOran\" type=\"number\" step=\"1\" disabled/></div></div>\n                <div class=\"inputs\"><div>Maksimum Deneme Sayısı:</div> <div><input v-model=\"denemeSayisi\" type=\"number\" step=\"1\" disabled/></div></div>\n                <div class=\"inputs\"><div>İstasyon Db Adres:</div> <div><input v-model=\"dbAdres\" disabled/></div></div>\n                <div class=\"inputs\"><div>Operasyon Başladı mı DB:</div><div> <input v-model=\"basladimi\" disabled/></div></div>\n                <div class=\"inputs\"><div>Operasyon Tamamlandı mı DB:</div> <div><input v-model=\"tamamlandimi\" disabled/></div></div>\n              </div>\n              <div id=\"inputs-2\">\n                <div class=\"crop\">\n                  <span class=\"head\">Crop</span>\n                  <div class=\"inputs\"><div>Başlangıç X:</div> <div><input v-model=\"x\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>Başlangıç Y:</div> <div><input v-model=\"y\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>X Mesafesi:</div> <div><input v-model=\"xRange\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>Y Mesafesi:</div> <div><input v-model=\"yRange\" type=\"number\" step=\"1\" disabled/></div></div>\n                </div>\n              </div>\n            </div>\n            <div class=\"footer\">\n              <div>\n                <div id=\"inputs-2\" style=\"width: 100%\">\n                  <div class=\"inputs\"><div>Resim Klasörü: </div> <div style=\"width: 85%\"><input v-model=\"x\" type=\"number\" step=\"1\" disabled/></div></div>\n                  <div class=\"inputs\"><div>Log Dosyası:</div> <div style=\"width: 85%\"><input v-model=\"y\" type=\"number\" step=\"1\" disabled/></div></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loader from '@/components/Loader.vue'\n\nexport default {\n  name: 'ProjectArea',\n  props: {\n    msg: String,\n    data: Array\n  },\n  data () {\n    return {\n      connection: null,\n      parser: null\n    }\n  },\n  components: {\n    Loader\n  },\n  methods: {\n    settings () {\n      document.querySelector('.settings-show').style.display = 'flex'\n    },\n    hideSettings (event) {\n      if (event.target.className === 'settings-show') {\n        document.querySelector('.settings-show').style.display = 'none'\n      }\n    },\n    goToHome () {\n      this.$router.push({\n        name: 'Home'\n      })\n    },\n    check () {\n      var images = document.querySelectorAll('.images')\n      console.log(images[0].offsetWidth)\n      // console.log(images[0].attributes[1].isConnected)\n    }\n  },\n  created () {\n    const url = 'ws://127.0.0.1:8081/ws/socket-server/'\n\n    const chatSocket = new WebSocket(url)\n\n    chatSocket.onmessage = function (e) {\n      const data = JSON.parse(e.data)\n      this.parser = JSON.parse(data.message.replaceAll('\\'', '\"'))\n      // console.log('Data:', parser)\n\n      if (data.type === 'chat') {\n        const messages = document.getElementById('messages')\n        messages.innerText = this.parser\n        // messages.insertAdjacentHTML('beforeend', `<div>\n        //                         <p>${data.message}</p>\n        //                     </div>`)\n      }\n    }\n    // let form = document.getElementById('form')\n    // form.addEventListener('submit', (e)=> {\n    //     e.preventDefault()\n    //     let message = e.target.message.value\n    //     chatSocket.send(JSON.stringify({\n    //         'message':message\n    //     }))\n    //     form.reset()\n    // })\n  },\n  mounted () {\n    // console.log(document.querySelector('.project-area').offsetHeight)\n    // console.log(window.innerHeight)\n    if (Number(document.querySelector('.project-area').offsetHeight) < Number(window.innerHeight)) {\n      document.querySelector('.project-area').style.height = (window.innerHeight) + 'px'\n    }\n    // fetch('http://127.0.0.1:8000/get_projects', {\n    //   method: 'GET'\n    // })\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     this.data = data\n    //     document.querySelector('.data').innerHTML = this.data\n    //   })\n    // setInterval(function () {\n    //   fetch('http://127.0.0.1:8000/get_projects', {\n    //     method: 'GET'\n    //   })\n    //     .then(response => response.json())\n    //     .then(data => {\n    //       this.data = data\n    //       document.querySelector('.data').innerHTML = this.data\n    //     })\n    // }, 15000)\n    // var images = document.querySelectorAll('.images')\n    // console.log(images[0].offsetWidth)\n    // if (images[0].attributes[1].isConnected === true) {\n    //   document.querySelector('.loader-scene').style.display = 'none'\n    // }\n    // document.querySelector('.exit').addEventListener('click', this.goToHome())\n    // console.log(document.querySelector('img.images').style.innerHeight)\n  }\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}